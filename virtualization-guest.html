<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>22.2. FreeBSD as a Guest OS</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Handbook" /><link rel="up" href="virtualization.html" title="Chapter 22. Virtualization" /><link rel="prev" href="virtualization.html" title="Chapter 22. Virtualization" /><link rel="next" href="virtualization-host-virtualbox.html" title="22.3. FreeBSD as a Host with VirtualBox" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="../../layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">22.2. FreeBSD as a Guest OS</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="virtualization.html">Prev</a> </td><th width="60%" align="center">Chapter 22. Virtualization</th><td width="20%" align="right"> <a accesskey="n" href="virtualization-host-virtualbox.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="virtualization-guest"></a>22.2. FreeBSD as a Guest OS</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-parallels"></a>22.2.1. <span class="application">Parallels</span> on <span class="trademark">Mac OS</span>® X</h3></div></div></div><p><span class="application">Parallels Desktop</span> for <span class="trademark">Mac</span>® is
	a commercial software product available for <span class="trademark">Intel</span>® based
	<span class="trademark">Apple</span>® <span class="trademark">Mac</span>® computers running <span class="trademark">Mac OS</span>® 10.4.6 or higher.
	FreeBSD is a fully supported guest operating system.  Once
	<span class="application">Parallels</span> has been installed on
	<span class="trademark">Mac OS</span>® X, the user must configure a virtual machine and then
	install the desired guest operating system.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-parallels-install"></a>22.2.1.1. Installing FreeBSD on Parallels/<span class="trademark">Mac OS</span>® X</h4></div></div></div><p>The first step in installing FreeBSD on
	  <span class="application">Parallels</span> is to create a new
	  virtual machine for installing FreeBSD.  Select
	  <span class="guimenuitem">FreeBSD</span> as the <span class="guimenu">Guest OS
	    Type</span> when prompted:</p><div class="mediaobject"><img src="virtualization/parallels-freebsd1.png" /></div><p>Choose a reasonable amount of disk and memory
	  depending on the plans for this virtual FreeBSD instance.
	  4GB of disk space and 512MB of RAM work well for most uses
	  of FreeBSD under <span class="application">Parallels</span>:</p><div class="mediaobject"><img src="virtualization/parallels-freebsd2.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd3.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd4.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd5.png" /></div><p>Select the type of networking and a network
	  interface:</p><div class="mediaobject"><img src="virtualization/parallels-freebsd6.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd7.png" /></div><p>Save and finish the configuration:</p><div class="mediaobject"><img src="virtualization/parallels-freebsd8.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd9.png" /></div><p>After the FreeBSD virtual machine has been created, FreeBSD
	  can be installed on it.  This is best done with an
	  official FreeBSD CD/DVD or with an ISO image downloaded from an
	  official FTP site.  Copy the appropriate ISO image to the
	  local <span class="trademark">Mac</span>® filesystem or insert a CD/DVD in the <span class="trademark">Mac</span>®'s CD
	  drive.  Click on the disc icon in the bottom right corner of
	  the FreeBSD <span class="application">Parallels</span> window.  This
	  will bring up a window that can be used to associate the
	  CDROM drive in the virtual machine with the ISO file on disk
	  or with the real CDROM drive.</p><div class="mediaobject"><img src="virtualization/parallels-freebsd11.png" /></div><p>Once this association with the CDROM source has been
	  made, reboot the FreeBSD virtual machine by clicking the reboot
	  icon.  <span class="application">Parallels</span> will reboot with
	  a special BIOS that first checks if there is a CDROM.</p><div class="mediaobject"><img src="virtualization/parallels-freebsd10.png" /></div><p>In this case it will find the FreeBSD installation media
	  and begin a normal FreeBSD installation.  Perform the
	  installation, but do not attempt to configure
	  <span class="application">Xorg</span> at this time.</p><div class="mediaobject"><img src="virtualization/parallels-freebsd12.png" /></div><p>When the installation is finished, reboot into the
	  newly installed FreeBSD virtual machine.</p><div class="mediaobject"><img src="virtualization/parallels-freebsd13.png" /></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-parallels-configure"></a>22.2.1.2. Configuring FreeBSD on
	  <span class="application">Parallels</span> </h4></div></div></div><p>After FreeBSD has been successfully installed on <span class="trademark">Mac OS</span>®
	  X with <span class="application">Parallels</span>, there are a
	  number of configuration steps that can be taken to
	  optimize the system for virtualized operation.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>Set Boot Loader Variables</strong></p><p>The most important step is to reduce the
	      <code class="option">kern.hz</code> tunable to reduce the CPU
	      utilization of FreeBSD under the <span class="application">Parallels
	      </span> environment.  This is accomplished by
	      adding the following line to <code class="filename">
	      /boot/loader.conf</code>:</p><pre class="programlisting">kern.hz=100</pre><p>Without this setting, an idle FreeBSD
	      <span class="application">Parallels</span> guest will use
	      roughly 15% of the CPU of a single processor <span class="trademark">iMac</span>®.
	      After this change the usage will be closer to 5%.</p></li><li class="step"><p class="title"><strong>Create a New Kernel Configuration File</strong></p><p>All of the SCSI, FireWire, and USB device drivers
	      can be removed from a custom kernel configuration file.
	      <span class="application">Parallels</span> provides a virtual
	      network adapter used by the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ed</span>(4)</span></a> driver, so all
	      network devices except for <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ed</span>(4)</span></a> and <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=miibus&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">miibus</span>(4)</span></a>
	      can be removed from the kernel.</p></li><li class="step"><p class="title"><strong>Configure Networking</strong></p><p>The most basic networking setup uses DHCP to connect
	      the virtual machine to the same local area network as
	      the host <span class="trademark">Mac</span>®.  This can be accomplished by adding
	      <code class="literal">ifconfig_ed0="DHCP"</code> to
	      <code class="filename">/etc/rc.conf</code>.  More advanced
	      networking setups are described in
	      <a class="xref" href="advanced-networking.html" title="Chapter 31. Advanced Networking">Chapter 31, <em>Advanced Networking</em></a>.</p></li></ol></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-virtualpc"></a>22.2.2. <span class="application">Virtual PC</span> on
	<span class="trademark">Windows</span>®</h3></div></div></div><p><span class="application">Virtual PC</span> for <span class="trademark">Windows</span>® is a
	<span class="trademark">Microsoft</span>® software product available for free download.  See
	this website for the <a class="link" href="http://www.microsoft.com/windows/downloads/virtualpc/sysreq.mspx" target="_top">system
	  requirements</a>.  Once <span class="application">Virtual
	  PC</span> has been installed on <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®,
	the user can configure a virtual machine and then install the
	desired guest operating system.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-virtualpc-install"></a>22.2.2.1. Installing FreeBSD on <span class="application">Virtual
	    PC</span></h4></div></div></div><p>The first step in installing FreeBSD on
	  <span class="application">Virtual PC </span> is to create a new
	  virtual machine for installing FreeBSD.  Select
	  <span class="guimenuitem">Create a virtual machine</span> when
	  prompted:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd1.png" /></div><div class="mediaobject"><img src="virtualization/virtualpc-freebsd2.png" /></div><p>Select <span class="guimenuitem">Other</span> as the
	  <span class="guimenuitem">Operating system</span> when
	  prompted:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd3.png" /></div><p>Then, choose a reasonable amount of disk and memory
	  depending on the plans for this virtual FreeBSD instance.
	  4GB of disk space and 512MB of RAM work well for most uses
	  of FreeBSD under <span class="application">Virtual PC</span>:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd4.png" /></div><div class="mediaobject"><img src="virtualization/virtualpc-freebsd5.png" /></div><p>Save and finish the configuration:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd6.png" /></div><p>Select the FreeBSD virtual machine and click
	  <span class="guimenu">Settings</span>, then set the type of networking
	  and a network interface:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd7.png" /></div><div class="mediaobject"><img src="virtualization/virtualpc-freebsd8.png" /></div><p>After the FreeBSD virtual machine has been created, FreeBSD
	  can be installed on it.  This is best done with an
	  official FreeBSD CD/DVD or with an ISO image downloaded from an
	  official FTP site.  Copy the appropriate ISO image to the
	  local <span class="trademark">Windows</span>® filesystem or insert a CD/DVD in the CD
	  drive, then double click on the FreeBSD virtual machine to
	  boot.  Then, click <span class="guimenu">CD</span> and choose
	  <span class="guimenu">Capture ISO Image...</span> on the
	  <span class="application">Virtual PC</span> window.  This will
	  bring up a window where the CDROM drive in the virtual
	  machine can be associated with an ISO file on disk or
	  with the real CDROM drive.</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd9.png" /></div><div class="mediaobject"><img src="virtualization/virtualpc-freebsd10.png" /></div><p>Once this association with the CDROM source has been
	  made, reboot the FreeBSD virtual machine by clicking
	  <span class="guimenu">Action</span> and <span class="guimenu">Reset</span>.
	  <span class="application">Virtual PC</span> will reboot with a
	  special BIOS that first checks for a CDROM.</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd11.png" /></div><p>In this case it will find the FreeBSD installation media
	  and begin a normal FreeBSD installation.  Continue with the
	  installation, but do not attempt to configure
	  <span class="application">Xorg</span> at this time.</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd12.png" /></div><p>When the installation is finished, remember to eject
	  the CD/DVD or release the ISO image.  Finally, reboot into
	  the newly installed FreeBSD virtual machine.</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd13.png" /></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-virtualpc-configure"></a>22.2.2.2. Configuring FreeBSD on <span class="application">Virtual
	    PC</span></h4></div></div></div><p>After FreeBSD has been successfully installed on
	  <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® with <span class="application">Virtual PC
	  </span>, there are a number of configuration
	  steps that can be taken to optimize the system for
	  virtualized operation.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>Set Boot Loader Variables</strong></p><p>The most important step is to reduce the
	      <code class="option">kern.hz</code> tunable to reduce the CPU
	      utilization of FreeBSD under the <span class="application">Virtual
		PC</span> environment.  This is accomplished
	      by adding the following line to
	      <code class="filename"> /boot/loader.conf</code>:</p><pre class="programlisting">kern.hz=100</pre><p>Without this setting, an idle FreeBSD
	      <span class="application">Virtual PC</span> guest OS will
	      use roughly 40% of the CPU of a single processor
	      computer.  After this change, the usage will be
	      closer to 3%.</p></li><li class="step"><p class="title"><strong>Create a New Kernel Configuration File</strong></p><p>All of the SCSI, FireWire, and USB device drivers
	      can be removed from a custom kernel configuration file.
	      <span class="application">Virtual PC</span> provides a virtual
	      network adapter used by the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=de&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">de</span>(4)</span></a> driver, so all
	      network devices except for <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=de&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">de</span>(4)</span></a> and <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=miibus&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">miibus</span>(4)</span></a>
	      can be removed from the kernel.</p></li><li class="step"><p class="title"><strong>Configure Networking</strong></p><p>The most basic networking setup uses DHCP to connect
	      the virtual machine to the same local area network as
	      the <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® host.  This can be accomplished
	      by adding <code class="literal">ifconfig_de0="DHCP"</code> to
	      <code class="filename">/etc/rc.conf</code>.  More advanced
	      networking setups are described in
	      <a class="xref" href="advanced-networking.html" title="Chapter 31. Advanced Networking">Chapter 31, <em>Advanced Networking</em></a>.</p></li></ol></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-vmware"></a>22.2.3. <span class="application">VMware Fusion</span> on
	<span class="trademark">Mac OS</span>®</h3></div></div></div><p><span class="application">VMware Fusion</span> for <span class="trademark">Mac</span>® is a
	commercial software product available for <span class="trademark">Intel</span>® based
	<span class="trademark">Apple</span>® <span class="trademark">Mac</span>® computers running <span class="trademark">Mac OS</span>® 10.4.9 or higher.
	FreeBSD is a fully supported guest operating system.  Once
	<span class="application">VMware Fusion</span> has been
	installed on <span class="trademark">Mac OS</span>® X, the user can configure a virtual
	machine and then install the desired guest operating
	system.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-vmware-install"></a>22.2.3.1. Installing FreeBSD on <span class="application">VMware
	    Fusion</span></h4></div></div></div><p>The first step is to start <span class="application">VMware
	    Fusion</span> which will load the Virtual
	  Machine Library.  Click <span class="guimenuitem">New</span> to
	  create the virtual machine:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd01.png" /></div><p>This will load the New Virtual Machine Assistant.  Click
	  <span class="guimenuitem">Continue</span> to proceed:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd02.png" /></div><p>Select <span class="guimenuitem">Other</span> as the
	  <span class="guimenuitem">Operating System</span> and either
	  <span class="guimenuitem">FreeBSD</span> or
	  <span class="guimenuitem">FreeBSD 64-bit</span>, as the
	  <span class="guimenu">Version</span> when prompted:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd03.png" /></div><p>Choose the name of the virtual machine and the directory
	  where it should be saved:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd04.png" /></div><p>Choose the size of the Virtual Hard Disk for the virtual
	  machine:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd05.png" /></div><p>Choose the method to install the virtual machine,
	  either from an ISO image or from a CD/DVD:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd06.png" /></div><p>Click <span class="guimenuitem">Finish</span> and the virtual
	  machine will boot:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd07.png" /></div><p>Install FreeBSD as usual:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd08.png" /></div><p>Once the install is complete, the settings
	  of the virtual machine can be modified, such as memory
	  usage:</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">The System Hardware settings of the virtual machine
	    cannot be modified while the virtual machine is
	    running.</p></div><div class="mediaobject"><img src="virtualization/vmware-freebsd09.png" /></div><p>The number of CPUs the virtual machine will have access
	  to:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd10.png" /></div><p>The status of the CDROM device.  Normally the
	  CD/DVD/ISO is disconnected from the virtual machine when it
	  is no longer needed.</p><div class="mediaobject"><img src="virtualization/vmware-freebsd11.png" /></div><p>The last thing to change is how the virtual machine will
	  connect to the network.  To allow connections to the virtual
	  machine from other machines besides the host, choose
	  <span class="guimenuitem">Connect directly to the physical network
	  (Bridged)</span>.  Otherwise, <span class="guimenuitem">Share the
	    host's internet connection (NAT)</span> is
	  preferred so that the virtual machine can have access to the
	  Internet, but the network cannot access the virtual
	  machine.</p><div class="mediaobject"><img src="virtualization/vmware-freebsd12.png" /></div><p>After modifying the settings, boot the newly installed
	  FreeBSD virtual machine.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-vmware-configure"></a>22.2.3.2. Configuring FreeBSD on <span class="application">VMware
	    Fusion</span></h4></div></div></div><p>After FreeBSD has been successfully installed on <span class="trademark">Mac OS</span>® X
	  with <span class="application">VMware Fusion</span>, there are a
	  number of configuration steps that can be taken to optimize
	  the system for virtualized operation.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>Set Boot Loader Variables</strong></p><p>The most important step is to reduce the
	      <code class="option">kern.hz</code> tunable to reduce the CPU
	      utilization of FreeBSD under the
	      <span class="application">VMware Fusion</span> environment.
	      This is accomplished by adding the following line to
	      <code class="filename">/boot/loader.conf</code>:</p><pre class="programlisting">kern.hz=100</pre><p>Without this setting, an idle FreeBSD
	      <span class="application">VMware Fusion</span> guest will use
	      roughly 15% of the CPU of a single processor <span class="trademark">iMac</span>®.
	      After this change, the usage will be closer to
	      5%.</p></li><li class="step"><p class="title"><strong>Create a New Kernel Configuration File</strong></p><p>All of the FireWire, and USB device drivers can be
	      removed from a custom kernel configuration file.
	      <span class="application">VMware Fusion</span> provides a
	      virtual network adapter used by the <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=em&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">em</span>(4)</span></a> driver,
	      so all  network devices except for <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=em&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">em</span>(4)</span></a> can be
	      removed from the kernel.</p></li><li class="step"><p class="title"><strong>Configure Networking</strong></p><p>The most basic networking setup uses DHCP to connect
	      the virtual machine to the same local area network as
	      the host <span class="trademark">Mac</span>®.  This can be accomplished by adding
	      <code class="literal">ifconfig_em0="DHCP"</code> to
	      <code class="filename">/etc/rc.conf</code>.  More advanced
	      networking setups are described in
	      <a class="xref" href="advanced-networking.html" title="Chapter 31. Advanced Networking">Chapter 31, <em>Advanced Networking</em></a>.</p></li></ol></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-virtualbox-guest-additions"></a>22.2.4. <span class="trademark">VirtualBox</span>&#8482; Guest Additions on a FreeBSD Guest</h3></div></div></div><p>The <span class="application"><span class="trademark">VirtualBox</span>&#8482;</span> guest
	additions provide support for:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Clipboard sharing.</p></li><li class="listitem"><p>Mouse pointer integration.</p></li><li class="listitem"><p>Host time synchronization.</p></li><li class="listitem"><p>Window scaling.</p></li><li class="listitem"><p>Seamless mode.</p></li></ul></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">The following commands are run in the FreeBSD guest.</p></div><p>First, install the
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/virtualbox-ose-additions/pkg-descr">emulators/virtualbox-ose-additions</a> package
	or port in the FreeBSD guest.  This will install the port:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/emulators/virtualbox-ose-additions &amp;&amp; make install clean</code></strong></pre><p>Add these lines to
	<code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">vboxguest_enable="YES"
vboxservice_enable="YES"</pre><p>When <span class="application">Xorg</span> will be used in the
	guest, any required supporting services must also be enabled
	just as if the guest was a physical machine.  Typically, these
	lines would also be added to
	<code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">hald_enable="YES"
dbus_enable="YES"</pre><p>See	<a class="xref" href="x-config.html" title="6.4. Xorg Configuration">Section 6.4, &#8220;<span class="application">Xorg</span> Configuration&#8221;</a> for details.</p><p>If <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ntpd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ntpd</span>(8)</span></a> or <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ntpdate&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ntpdate</span>(8)</span></a> is used, disable host
	time synchronization:</p><pre class="programlisting">vboxservice_flags="--disable-timesync"</pre><p><span class="application">Xorg</span> will automatically
	recognize the <code class="literal">vboxvideo</code> driver.
	It can also be manually entered in
	<code class="filename">/etc/X11/xorg.conf</code>:</p><pre class="programlisting">Section "Device"
	### Available Driver options are:-
	### Values: &lt;i&gt;: integer, &lt;f&gt;: float, &lt;bool&gt;: "True"/"False",
	### &lt;string&gt;: "String", &lt;freq&gt;: "&lt;f&gt; Hz/kHz/MHz"
	### [arg]: arg optional
	Identifier "Card0"
	Driver "vboxvideo"
	VendorName "InnoTek Systemberatung GmbH"
	BoardName "VirtualBox Graphics Adapter"
	BusID "PCI:0:2:0"
EndSection</pre><p>To use the <code class="literal">vboxmouse</code> driver, adjust the
	mouse section in
	<code class="filename">/etc/X11/xorg.conf</code>:</p><pre class="programlisting">Section "InputDevice"
	Identifier "Mouse0"
	Driver "vboxmouse"
EndSection</pre><p><acronym class="acronym">HAL</acronym> users should create the following
	<code class="filename">/usr/local/etc/hal/fdi/policy/90-vboxguest.fdi</code>
	or copy it from
	<code class="filename">/usr/local/share/hal/fdi/policy/10osvendor/90-vboxguest.fdi</code>:</p><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!--
# Sun VirtualBox
# Hal driver description for the vboxmouse driver
# $Id: chapter.xml,v 1.33 2012-03-17 04:53:52 eadler Exp $

	Copyright (C) 2008-2009 Sun Microsystems, Inc.

	This file is part of VirtualBox Open Source Edition (OSE, as
	available from http://www.virtualbox.org. This file is free software;
	you can redistribute it and/or modify it under the terms of the GNU
	General Public License (GPL) as published by the Free Software
	Foundation, in version 2 as it comes in the "COPYING" file of the
	VirtualBox OSE distribution. VirtualBox OSE is distributed in the
	hope that it will be useful, but WITHOUT ANY WARRANTY of any kind.

	Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
	Clara, CA 95054 USA or visit http://www.sun.com if you need
	additional information or have any questions.
--&gt;
&lt;deviceinfo version="0.2"&gt;
  &lt;device&gt;
    &lt;match key="info.subsystem" string="pci"&gt;
      &lt;match key="info.product" string="VirtualBox guest Service"&gt;
        &lt;append key="info.capabilities" type="strlist"&gt;input&lt;/append&gt;
	&lt;append key="info.capabilities" type="strlist"&gt;input.mouse&lt;/append&gt;
        &lt;merge key="input.x11_driver" type="string"&gt;vboxmouse&lt;/merge&gt;
	&lt;merge key="input.device" type="string"&gt;/dev/vboxguest&lt;/merge&gt;
      &lt;/match&gt;
    &lt;/match&gt;
  &lt;/device&gt;
&lt;/deviceinfo&gt;</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="virtualization.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="virtualization.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="virtualization-host-virtualbox.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 22. Virtualization </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 22.3. FreeBSD as a Host with
      <span class="application">VirtualBox</span></td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>