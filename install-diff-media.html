<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.13. Preparing Custom Installation Media</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Handbook" /><link rel="up" href="install.html" title="Chapter 3. Installing FreeBSD 8.X" /><link rel="prev" href="install-advanced.html" title="3.12. Advanced Installation Guide" /><link rel="next" href="basics.html" title="Chapter 4. UNIX Basics" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="../../layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.13. Preparing Custom Installation Media</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="install-advanced.html">Prev</a> </td><th width="60%" align="center">Chapter 3. Installing FreeBSD 8.<em class="replaceable"><code>X</code></em></th><td width="20%" align="right"> <a accesskey="n" href="basics.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="install-diff-media"></a>3.13. Preparing Custom Installation Media</h2></div></div></div><p>Some situations may require a customized FreeBSD installation
      media and/or source.  This might be physical media or a source
      that <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> can use to retrieve the installation
      files.  Some example situations include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A local network with many machines has a private FTP
	  server hosting the FreeBSD installation files which the
	  machines should use for installation.</p></li><li class="listitem"><p>FreeBSD does not recognize the CD/DVD drive but <span class="trademark">Windows</span>®
	  does.  In this case, copy the FreeBSD installation files to a
	  <span class="trademark">Windows</span>® partition on the same computer, and then install
	  FreeBSD using those files.</p></li><li class="listitem"><p>The computer to install does not have a CD/DVD drive or
	  a network card, but can be connected using a null-printer
	  cable to a computer that does.</p></li><li class="listitem"><p>A tape will be used to install FreeBSD.</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-cdrom"></a>3.13.1. Creating an Installation ISO</h3></div></div></div><p>As part of each release, the FreeBSD Project provides ISO
	images for each supported architecture.  These images can be
	written (<span class="quote">&#8220;<span class="quote">burned</span>&#8221;</span>) to CD or DVD media using a
	burning application, and then used to install FreeBSD.  If a
	CD/DVD writer is available, this is the easiest way to install
	FreeBSD.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>Download the Correct ISO Images</strong></p><p>The ISO images for each release can be downloaded from
	    <code class="filename">ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-<em class="replaceable"><code>arch</code></em>/<em class="replaceable"><code>version</code></em></code>
	    or the closest mirror.  Substitute
	    <em class="replaceable"><code>arch</code></em> and
	    <em class="replaceable"><code>version</code></em> as appropriate.</p><p>An image directory normally contains the following
	    images:</p><div class="table"><a id="idp61181344"></a><div class="table-title">Table 3.4. FreeBSD
	      ISO Image Names and Meanings</div><div class="table-contents"><table summary="FreeBSD&#10;&#9;      ISO Image Names and Meanings" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Filename</th><th>Contents</th></tr></thead><tbody><tr><td><code class="filename">FreeBSD-<em class="replaceable"><code>version</code></em>-RELEASE-<em class="replaceable"><code>arch</code></em>-bootonly.iso</code></td><td>This CD image starts the installation process
		    by booting from a CD-ROM drive but it does not
		    contain the support for installing FreeBSD from the
		    CD itself.  Perform a network based install, such
		    as from an FTP server, after booting from this
		    CD.</td></tr><tr><td><code class="filename">FreeBSD-<em class="replaceable"><code>version</code></em>-RELEASE-<em class="replaceable"><code>arch</code></em>-dvd1.iso.gz</code></td><td>This DVD image contains everything necessary
		    to install the base FreeBSD operating system, a
		    collection of pre-built packages, and the
		    documentation.  It also supports booting into a
		    <span class="quote">&#8220;<span class="quote">livefs</span>&#8221;</span> based rescue mode.</td></tr><tr><td><code class="filename">FreeBSD-<em class="replaceable"><code>version</code></em>-RELEASE-<em class="replaceable"><code>arch</code></em>-memstick.img</code></td><td>This image can be written to a USB memory
		    stick in order to install machines capable of
		    booting from USB drives.  It also supports booting
		    into a <span class="quote">&#8220;<span class="quote">livefs</span>&#8221;</span> based rescue mode.
		    The only included package is the documentation
		    package.</td></tr><tr><td><code class="filename">FreeBSD-<em class="replaceable"><code>version</code></em>-RELEASE-<em class="replaceable"><code>arch</code></em>-disc1.iso</code></td><td>This image can be written to a USB memory
		    stick in order to install machines capable of
		    booting from USB drives.  Similar to the
		    <code class="filename">bootonly.iso</code> image, it does
		    not contain the distribution sets on the medium
		    itself, but does support network-based
		    installations (for example, via ftp).</td></tr><tr><td><code class="filename">FreeBSD-version-RELEASE-arch-disc1.iso</code></td><td>This CD image contains the base FreeBSD
		    operating system and the documentation package but
		    no other packages.</td></tr><tr><td><code class="filename">FreeBSD-<em class="replaceable"><code>version</code></em>-RELEASE-<em class="replaceable"><code>arch</code></em>-disc2.iso</code></td><td>A CD image with as many third-party packages
		    as would fit on the disc.  This image is not
		    available for
		    FreeBSD 9.<em class="replaceable"><code>X</code></em>.</td></tr><tr><td><code class="filename">FreeBSD-<em class="replaceable"><code>version</code></em>-RELEASE-<em class="replaceable"><code>arch</code></em>-disc3.iso</code></td><td>Another CD image with as many third-party
		    packages as would fit on the disc.  This image is
		    not available for
		    FreeBSD 9.<em class="replaceable"><code>X</code></em>.</td></tr><tr><td><code class="filename">FreeBSD-<em class="replaceable"><code>version</code></em>-RELEASE-<em class="replaceable"><code>arch</code></em>-livefs.iso</code></td><td>This CD image contains support for booting
		    into a <span class="quote">&#8220;<span class="quote">livefs</span>&#8221;</span> based rescue mode but
		    does not support doing an install from the CD
		    itself.</td></tr></tbody></table></div></div><br class="table-break" /><p>When performing a CD installation, download either
	    the <code class="literal">bootonly</code> ISO image or
	    <code class="literal">disc1</code>.  Do not download both, since
	    <code class="literal">disc1</code> contains everything that the
	    <code class="literal">bootonly</code> ISO image contains.</p><p>Use the <code class="literal">bootonly</code> ISO to perform a
	    network install over the Internet.  Additional software
	    can be installed as needed using the Ports Collection as
	    described in <a class="xref" href="ports.html" title="Chapter 5. Installing Applications: Packages and Ports">Chapter 5, <em>Installing Applications: Packages and Ports</em></a>.</p><p>Use <code class="literal">dvd1</code> to install FreeBSD and a
	    selection of third-party packages from the disc.</p></li><li class="step"><p class="title"><strong>Burn the Media</strong></p><p>Next, write the downloaded image(s) to disc.  If using
	    another FreeBSD system, refer to
	    <a class="xref" href="creating-cds.html#cdrecord" title="18.5.2. Burning a CD">Section 18.5.2, &#8220;Burning a <acronym class="acronym">CD</acronym>&#8221;</a> for instructions.</p><p>If using another platform, use any burning utility
	    that exists for that platform.  The images are in the
	    standard ISO format which most CD writing applications
	    support.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">To build a customized release of FreeBSD, refer to the
	<a class="link" href="https://www.freebsd.org/doc/en_US.ISO8859-1/articles/releng" target="_top">Release Engineering
	  Article</a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-ftp"></a>3.13.2. Creating a Local FTP Site with a FreeBSD Disc</h3></div></div></div><a id="idp61219232" class="indexterm"></a><p>FreeBSD discs are laid out in the same way as the FTP site.
	This makes it easy to create a local FTP site that can be used
	by other machines on a network to install FreeBSD.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>On the FreeBSD computer that will host the FTP site,
	    ensure that the CD/DVD is in the drive and mounted:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /cdrom</code></strong></pre></li><li class="step"><p>Create an account for anonymous FTP.  Use <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a>
	    to insert this line:</p><pre class="programlisting">ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent</pre></li><li class="step"><p>Ensure that the FTP service is enabled in
	    <code class="filename">/etc/inetd.conf</code>.</p></li></ol></div><p>Anyone with network connectivity to the machine can now
	chose a media type of FTP and type in
	<strong class="userinput"><code>ftp://<em class="replaceable"><code>your
	  machine</code></em></code></strong> after picking
	<span class="quote">&#8220;<span class="quote">Other</span>&#8221;</span> in the FTP sites menu during the
	install.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">If the boot media for the FTP clients is not precisely
	  the same version as that provided by the local FTP site,
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> will not complete the installation.  To
	  override this, go into the <span class="guimenu">Options</span> menu
	  and change the distribution name to
	  <span class="guimenuitem">any</span>.</p></div><div xmlns="" class="warning"><h3 class="admontitle">Warning: </h3><p xmlns="http://www.w3.org/1999/xhtml">This approach is acceptable for a machine on the local
	  network which is protected by a firewall.  Offering
	  anonymous FTP services to other machines over the Internet
	  exposes the computer to increased security risks.  It is
	  strongly recommended to follow good security practices when
	  providing services over the Internet.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="install-msdos"></a>3.13.3. Installing from an <span class="trademark">Windows</span>® Partition</h3></div></div></div><a id="idp61232544" class="indexterm"></a><p>To prepare for an installation from a <span class="trademark">Windows</span>® partition,
	copy the files from the distribution into a directory in the
	root directory of the partition, such as
	<code class="filename">c:\freebsd</code>.  Since the directory
	structure must be reproduced, it is recommended to use
	<code class="command">robocopy</code> when copying from a CD/DVD.  For
	example, to prepare for a minimal installation of FreeBSD:</p><pre class="screen"><code class="prompt">C:\&gt;</code> <strong class="userinput"><code>md c:\freebsd</code></strong>
<code class="prompt">C:\&gt;</code> <strong class="userinput"><code>robocopy e:\bin c:\freebsd\bin\ /s</code></strong>
<code class="prompt">C:\&gt;</code> <strong class="userinput"><code>robocopy e:\manpages c:\freebsd\manpages\ /s</code></strong></pre><p>This example assumes that <code class="filename">C:</code> has
	enough free space and <code class="filename">E:</code> is where the
	CD/DVD is mounted.</p><p>Alternatively, download the distribution from <a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/9.3-RELEASE/" target="_top">ftp.FreeBSD.org</a>.
	Each distribution is in its own directory; for example, the
	<span class="emphasis"><em>base</em></span> distribution can be found in the
	<a class="link" href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/9.3-RELEASE/base/" target="_top">9.3/base/</a>
	directory.</p><p>Copy the distributions to install from a <span class="trademark">Windows</span>®
	partition to <code class="filename">c:\freebsd</code>.  Both the
	<code class="literal">base</code> and <code class="literal">kernel</code>
	distributions are needed for the most minimal
	installation.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61251744"></a>3.13.4. Before Installing over a Network</h3></div></div></div><a id="idp61252384" class="indexterm"></a><a id="idp61254048" class="indexterm"></a><a id="idp61255584" class="indexterm"></a><p>There are three types of network installations
	available: Ethernet, PPP, and PLIP.</p><p>For the fastest possible network installation, use an
	Ethernet adapter.  FreeBSD supports most common Ethernet cards.
	A list of supported cards is provided in the Hardware Notes
	for each release of FreeBSD.  If using a supported PCMCIA
	Ethernet card, be sure that it is plugged in
	<span class="emphasis"><em>before</em></span> the system is powered on as FreeBSD
	does not support hot insertion of PCMCIA cards during
	installation.</p><p>Make note of the system's IP address, subnet mask,
	hostname, default gateway address, and DNS server addresses if
	these values are statically assigned.  If installing by FTP
	through a HTTP proxy, make note of the proxy's address.  If
	you do not know these values, ask the system administrator or
	ISP <span class="emphasis"><em>before</em></span> trying this type of
	installation.</p><p>If using a dialup modem, have the service provider's PPP
	information handy as it is needed early in the installation
	process.</p><p>If PAP or CHAP are used to connect to the
	<acronym class="acronym">ISP</acronym> without using a script, type
	<code class="command">dial</code> at the FreeBSD
	<span class="application">ppp</span> prompt.  Otherwise, know how to
	dial the <acronym class="acronym">ISP</acronym> using the <span class="quote">&#8220;<span class="quote">AT
	  commands</span>&#8221;</span> specific to the modem, as the PPP dialer
	provides only a simple terminal emulator.  Refer to <a class="xref" href="userppp.html" title="27.2. Configuring PPP">Section 27.2, &#8220;Configuring <acronym class="acronym">PPP</acronym>&#8221;</a> and <code class="uri"><a class="uri" href="https://www.freebsd.org/doc/en_US.ISO8859-1/books/faq/ppp.html" target="_top">../../../../doc/en_US.ISO8859-1/books/faq/ppp.html</a></code>
	for further information.  Logging can be directed to the
	screen using <code class="command">set log local ...</code>.</p><p>If a hard-wired connection to another FreeBSD machine is
	available, the installation can occur over a null-modem
	parallel port cable.  The data rate over the parallel port is
	higher than what is typically possible over a serial
	line.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp61263648"></a>3.13.4.1. Before Installing via <acronym class="acronym">NFS</acronym></h4></div></div></div><a id="idp61264544" class="indexterm"></a><p>To perform an <acronym class="acronym">NFS</acronym> installation, copy
	  the needed FreeBSD distribution files to an
	  <acronym class="acronym">NFS</acronym> server and then point the installer's
	  <acronym class="acronym">NFS</acronym> media selection to it.</p><p>If the server supports only a <span class="quote">&#8220;<span class="quote">privileged
	    port</span>&#8221;</span>, set the option <code class="literal">NFS Secure</code>
	  in the <span class="guimenu">Options</span> menu so that the
	  installation can proceed.</p><p>If using a poor quality Ethernet card which suffers
	  from slow transfer rates, toggle the
	  <code class="literal">NFS Slow</code> flag to on.</p><p>In order for an <acronym class="acronym">NFS</acronym> installation to
	  work, the server must support subdir mounts.  For example,
	  if the FreeBSD 10.0 distribution lives on:
	  <code class="filename">ziggy:/usr/archive/stuff/FreeBSD</code>,
	  <code class="systemitem">ziggy</code> will have to allow the direct
	  mounting of <code class="filename">/usr/archive/stuff/FreeBSD</code>,
	  not just <code class="filename">/usr</code> or
	  <code class="filename">/usr/archive/stuff</code>.</p><p>In FreeBSD, this is controlled by using
	  <code class="option">-alldirs</code> in
	  <code class="filename">/etc/exports</code>.  Other
	  <acronym class="acronym">NFS</acronym> servers may have different
	  conventions.  If the server is displaying
	  <span class="errorname">permission denied</span> messages, it is
	  likely that this is not enabled properly.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="install-advanced.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="basics.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">3.12. Advanced Installation Guide </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 4. UNIX Basics</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>